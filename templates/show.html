{% extends 'layout.html' %}

{% block body %}
    <!-- title -->
    <h1>Customer Query</h1>

    <!-- show error massage -->
    {% if error %}
    <div class="alert alert-danger">{{error}}</div>
    {% endif %}

    <!-- customer query form -->
    {% from "includes/_formhelpers.html" import render_field %}  
    <form method="POST" action="">
        <div class="form-group">
            {{render_field(form.tool, class_="form-control")}}
        </div>
        <div class="form-group">
            {{render_field(form.text, class_="form-control")}}
        </div>
        <p><input type="submit" value="search"></p><br/><br/>
    </form>

    <!-- show result -->
    {% if result %}
    <h1>Result</h1>
    <table class="table table-striped">
        <tr>
            <th>Id</th>
            <th>Name</th>
            <th>Sex</th>
            <th>Age</th>
            <th>HNum</th>
            <th>MNum</th>
        </tr>
        {% for r in result %}
            <tr>
                <td>{{r[0]}}</td>
                <td>{{r[1]}}</td>
                <td>{{r[2]}}</td>
                <td>{{r[3]}}</td>
                <td>{{r[4]}}</td>
                <td>{{r[5]}}</td>
            </tr>
        {% endfor %}
    </table>
    {% endif %}
{% endblock %}